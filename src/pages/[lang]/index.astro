---
import Layout from "../../layouts/Layout.astro";
import { getLangStaticPaths, resolveLang } from "../../lib/i18n";

export async function getStaticPaths() {
  return getLangStaticPaths();
}

const locale = resolveLang(Astro.params.lang);
const dict = await import(`../../locales/${locale}.json`).then((m) => m.default);
---

<Layout lang={locale} title={dict.title}>
  <div class="flex min-h-screen bg-white">
    <!-- Left Ad -->
    <!-- <aside class="hidden md:flex w-40 items-center justify-center border-4">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-XXXXXXX"
           data-ad-slot="1111111111"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (window.adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </aside> -->

    <!-- Game Area (centered div for iframe later) -->
    <main class="flex-1 flex flex-col items-center justify-center px-4">
      <!-- Header -->
      <header class="mb-6 text-center">
        <h1 class="text-lg font-bold">{dict.title}</h1>
        <p class="text-sm text-gray-600">{dict.enjoy}</p>
      </header>

      <!-- Game iframe -->
      <div class="w-full max-w-5xl aspect-video bg-gray-100 flex items-center justify-center border rounded-lg shadow-md">
        <iframe 
          title="BomberMan"
          src="https://games-dun-one.vercel.app/BomberMan/index.html" 
          class="w-full h-full rounded-lg"
          allowfullscreen
        ></iframe>
      </div>

      <!-- Bottom Ad -->
      <!-- <div class="mt-10 w-full flex justify-center border-4">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-XXXXXXX"
             data-ad-slot="2222222222"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (window.adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div> -->
    </main>

    <!-- Right Ad -->
    <!-- <aside class="hidden md:flex w-40 items-center justify-center border-4">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-XXXXXXX"
           data-ad-slot="3333333333"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (window.adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </aside> -->
  </div>
</Layout>
